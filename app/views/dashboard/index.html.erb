<div class="space-y-6">
  <header>
    <h1 class="text-2xl font-semibold tracking-tight text-slate-900"><%= t("dashboard.title") %></h1>
    <p class="mt-1 text-sm text-slate-600">
      <% if current_user.super_admin? %>
        <%= t("dashboard.admin_subtitle") %>
      <% elsif tenant_staff? %>
        <%= t("dashboard.tenant_subtitle") %>
      <% else %>
        <%= t("dashboard.customer_subtitle") %>
      <% end %>
    </p>
  </header>

  <% if current_user.super_admin? %>
    <div class="mb-6 grid gap-4 sm:grid-cols-3">
      <div class="rounded-xl border border-slate-200 bg-white p-4 shadow-sm">
        <p class="text-2xl font-bold text-slate-900"><%= @platform_spaces_count %></p>
        <p class="text-xs text-slate-600"><%= t("dashboard.platform.stats.tenants") %></p>
      </div>
      <div class="rounded-xl border border-slate-200 bg-white p-4 shadow-sm">
        <p class="text-2xl font-bold text-slate-900"><%= @platform_users_count %></p>
        <p class="text-xs text-slate-600"><%= t("dashboard.platform.stats.users") %></p>
      </div>
      <div class="rounded-xl border border-slate-200 bg-white p-4 shadow-sm">
        <p class="text-2xl font-bold text-slate-900"><%= @platform_appointments_count %></p>
        <p class="text-xs text-slate-600"><%= t("dashboard.platform.stats.appointments") %></p>
      </div>
    </div>
    <div class="grid gap-4 sm:grid-cols-2">
      <div class="rounded-xl border border-slate-200 bg-white p-4 shadow-sm">
        <h2 class="text-sm font-medium text-slate-900"><%= t("dashboard.platform.tenants_title") %></h2>
        <p class="mt-1 text-xs text-slate-600">
          <%= t("dashboard.platform.tenants_body") %>
        </p>
        <div class="mt-3">
          <%= link_to t("dashboard.platform.tenants_cta"), platform_spaces_path, class: button_classes(:primary) %>
        </div>
      </div>

      <div class="rounded-xl border border-slate-200 bg-white p-4 shadow-sm">
        <h2 class="text-sm font-medium text-slate-900"><%= t("dashboard.platform.users_title") %></h2>
        <p class="mt-1 text-xs text-slate-600">
          <%= t("dashboard.platform.users_body") %>
        </p>
        <div class="mt-3">
          <%= link_to t("dashboard.platform.users_cta"), platform_users_path, class: button_classes(:muted) %>
        </div>
      </div>
    </div>
  <% elsif tenant_staff? %>
    <div class="mb-6">
      <%= render "calendar_overview" %>
    </div>
    <div class="grid gap-4 sm:grid-cols-2">
      <div class="rounded-xl border border-amber-200 bg-amber-50 p-4 shadow-sm <%= @pending_count.to_i > 0 ? 'ring-1 ring-amber-300' : '' %>">
        <h2 class="text-sm font-medium text-slate-900"><%= t("dashboard.admin.pending_title") %></h2>
        <p class="mt-1 text-xs text-slate-600">
          <%= t("dashboard.admin.pending_body", count: @pending_count.to_i) %>
        </p>
        <div class="mt-3">
          <%= link_to t("dashboard.admin.pending_cta"), pending_admin_appointments_path, class: button_classes(:cancel) %>
        </div>
      </div>

      <div class="rounded-xl border border-slate-200 bg-white p-4 shadow-sm">
        <h2 class="text-sm font-medium text-slate-900"><%= t("dashboard.admin.appointments_title") %></h2>
        <p class="mt-1 text-xs text-slate-600">
          <%= t("dashboard.admin.appointments_body") %>
        </p>
        <div class="mt-3">
          <%= link_to t("dashboard.admin.appointments_cta"), admin_appointments_path, class: button_classes(:primary) %>
        </div>
      </div>

      <div class="rounded-xl border border-slate-200 bg-white p-4 shadow-sm">
        <h2 class="text-sm font-medium text-slate-900"><%= t("dashboard.admin.customers_title") %></h2>
        <p class="mt-1 text-xs text-slate-600">
          <%= t("dashboard.admin.customers_body") %>
        </p>
        <div class="mt-3">
          <%= link_to t("dashboard.admin.customers_cta"), admin_customers_path, class: button_classes(:muted) %>
        </div>
      </div>
    </div>
  <% else %>
    <div class="grid gap-4 sm:grid-cols-2">
      <div class="rounded-xl border border-slate-200 bg-white p-4 shadow-sm">
        <h2 class="text-sm font-medium text-slate-900"><%= t("dashboard.customer.my_appointments_title") %></h2>
        <p class="mt-1 text-xs text-slate-600">
          <%= t("dashboard.customer.my_appointments_body") %>
        </p>
        <div class="mt-3">
          <%= link_to t("dashboard.customer.my_appointments_cta"), appointments_path, class: button_classes(:primary) %>
        </div>
      </div>

      <div class="rounded-xl border border-slate-200 bg-white p-4 shadow-sm">
        <h2 class="text-sm font-medium text-slate-900"><%= t("dashboard.customer.new_request_title") %></h2>
        <p class="mt-1 text-xs text-slate-600">
          <%= t("dashboard.customer.new_request_body") %>
        </p>
        <div class="mt-3">
          <%= link_to t("dashboard.customer.new_request_cta"), new_appointment_path, class: button_classes(:muted) %>
        </div>
      </div>
    </div>
  <% end %>
</div>
