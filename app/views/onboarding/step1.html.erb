<%= render "onboarding/progress", current_step: 1 %>
<div class="mx-auto max-w-lg">
  <%= render layout: "application/shared/card" do %>
    <%= form_with model: current_tenant, url: update_step1_onboarding_wizard_path, method: :patch, class: "space-y-4" do |form| %>
      <%= render "application/shared/error_messages", resource: current_tenant %>

      <h1 class="text-2xl font-semibold text-slate-900">
        <%= t("onboarding.step1.title") %>
      </h1>
      <p class="text-slate-600"><%= t("onboarding.step1.subtitle") %></p>

      <div>
        <%= form.label :name, t("onboarding.step1.business_name"), class: form_label_classes %>
        <%= form.text_field :name, class: form_input_classes, autofocus: true %>
      </div>

      <div>
        <%= form.label :business_type, t("onboarding.step1.business_type"), class: form_label_classes %>
        <%= form.select :business_type,
            options_for_select(
              Space::BUSINESS_TYPES.map { |bt| [ t("onboarding.step1.business_types.#{bt}"), bt ] },
              current_tenant.business_type
            ),
            { include_blank: true },
            class: form_input_classes %>
      </div>

      <div>
        <%= form.label :phone, t("onboarding.step1.phone_number"), class: form_label_classes %>
        <%= form.telephone_field :phone,
            value: (current_user.phone_number.presence || current_tenant.phone),
            class: form_input_classes,
            placeholder: "" %>
      </div>

      <div class="flex flex-wrap items-center gap-4 pt-2">
        <%= form.submit t("onboarding.step1.next"), class: button_classes(:primary) %>
        <%= button_to t("onboarding.skip_link"), skip_onboarding_wizard_path, method: :post, class: "text-sm text-slate-500 underline hover:text-slate-700", form_class: "inline" %>
      </div>
    <% end %>
  <% end %>
</div>
