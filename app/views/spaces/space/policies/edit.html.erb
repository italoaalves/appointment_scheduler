<div class="space-y-6">
  <header>
    <h1 class="text-2xl font-semibold tracking-tight text-slate-900">
      <%= t("space.policies.edit.title") %>
    </h1>
    <p class="mt-1 text-sm text-slate-600">
      <%= t("space.policies.edit.subtitle") %>
    </p>
  </header>

  <%= form_with model: @space, url: settings_space_policies_path, method: :patch, class: "space-y-6" do |form| %>
    <%= render "application/shared/error_messages", resource: @space %>

    <div class="rounded-xl border border-slate-200 bg-white p-5 shadow-sm">
      <h2 class="mb-4 text-sm font-semibold text-slate-800"><%= t("space.policies.edit.cancellation_title") %></h2>
      <div>
        <%= form.label :cancellation_min_hours_before,
                       t("space.policies.edit.cancellation_label"),
                       class: "block text-sm font-medium text-slate-700" %>
        <%= form.number_field :cancellation_min_hours_before,
                             min: 0,
                             placeholder: t("space.policies.edit.no_restriction_placeholder"),
                             class: "mt-1 block w-full max-w-xs rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500" %>
        <p class="mt-1.5 text-xs text-slate-500">
          <%= t("space.policies.edit.cancellation_hint") %>
        </p>
      </div>
    </div>

    <div class="rounded-xl border border-slate-200 bg-white p-5 shadow-sm">
      <h2 class="mb-4 text-sm font-semibold text-slate-800"><%= t("space.policies.edit.reschedule_title") %></h2>
      <div>
        <%= form.label :reschedule_min_hours_before,
                       t("space.policies.edit.reschedule_label"),
                       class: "block text-sm font-medium text-slate-700" %>
        <%= form.number_field :reschedule_min_hours_before,
                             min: 0,
                             placeholder: t("space.policies.edit.no_restriction_placeholder"),
                             class: "mt-1 block w-full max-w-xs rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500" %>
        <p class="mt-1.5 text-xs text-slate-500">
          <%= t("space.policies.edit.reschedule_hint") %>
        </p>
      </div>
    </div>

    <div class="rounded-xl border border-slate-200 bg-white p-5 shadow-sm">
      <h2 class="mb-4 text-sm font-semibold text-slate-800"><%= t("space.policies.edit.requesting_title") %></h2>
      <div class="space-y-4">
        <div>
          <%= form.label :request_max_days_ahead,
                         t("space.policies.edit.request_max_label"),
                         class: "block text-sm font-medium text-slate-700" %>
          <%= form.number_field :request_max_days_ahead,
                               min: 0,
                               placeholder: t("space.policies.edit.no_restriction_placeholder"),
                               class: "mt-1 block w-full max-w-xs rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500" %>
          <p class="mt-1.5 text-xs text-slate-500">
            <%= t("space.policies.edit.request_max_hint") %>
          </p>
        </div>
        <div>
          <%= form.label :request_min_hours_ahead,
                         t("space.policies.edit.request_min_label"),
                         class: "block text-sm font-medium text-slate-700" %>
          <%= form.number_field :request_min_hours_ahead,
                               min: 0,
                               placeholder: t("space.policies.edit.no_restriction_placeholder"),
                               class: "mt-1 block w-full max-w-xs rounded-md border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-slate-500 focus:outline-none focus:ring-1 focus:ring-slate-500" %>
          <p class="mt-1.5 text-xs text-slate-500">
            <%= t("space.policies.edit.request_min_hint") %>
          </p>
        </div>
      </div>
    </div>

    <div class="flex flex-wrap gap-3">
      <%= form.submit t("space.policies.edit.submit"),
                      class: button_classes(:primary) %>
      <%= link_to t("space.policies.edit.back_to_space"),
                  edit_settings_space_path,
                  class: button_classes(:secondary) %>
      <%= link_to t("space.settings.edit.back_to_appointments"),
                  appointments_path,
                  class: button_classes(:secondary) %>
    </div>
  <% end %>
</div>
